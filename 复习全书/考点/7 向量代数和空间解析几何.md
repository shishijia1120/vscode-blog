## 7 向量代数和空间解析几何
### 二 向量的概念
- $a=xi+yj+zk,$通常记为${x,y,z}$，其中$i,j,k$分别为$x,y,z$轴的正方向上的单位向量，即坐标向量。
- 向量$a$的大小(长度)称为向量的模，记作$|a|;$
- 方向相同或相反的向量称为共线向量，平行于同一平面的向量称为共面的向量.
- 从同一点出发的两个非零向量$a,b$，它们所成的两个角中不超过$\pi$的那个角为$a,b$的夹角，记为$<a,b>.$
- 向量$a$与三个坐标向量$i,j,k$的夹角$\alpha,\beta,\gamma$称为向量$a$的方向角，方向角的余弦$\cos \alpha,\cos \beta,\cos \gamma$称为向量$a$的方向余弦.如$a=xi+yj+zk,则|a|=\sqrt{x^2+y^2+z^2},$
$$\cos \alpha =\frac{x}{|\alpha|}=\frac{x}{\sqrt{x^2+y^2+z^2}},\qquad \cos \beta =\frac{y}{|\alpha|}=\frac{y}{\sqrt{x^2+y^2+z^2}},\qquad \cos \gamma =\frac{z}{|\alpha|}=\frac{z}{\sqrt{x^2+y^2+z^2}}$$
$$\cos \alpha^2+\cos \beta^2+\cos \gamma^2=1,$$
且方向余弦$\cos \alpha,\cos \beta,\cos \gamma$就是单位向量$\frac{a}{|a|}$的坐标，即$a^0=\frac{a}{|a|}=|\cos \alpha,\cos \beta,\cos \gamma|.$
- 与向量$a$的方向余弦$\cos \alpha,\cos \beta,\cos \gamma$成比例的三个不全为零的数$A,B,C$构成的有序数组称为向量$a$的一组方向数，记为${A,B,C}$，即
$$\frac{A}{\cos \alpha}=\frac{B}{\cos \beta}=\frac{C}{\cos \gamma}.$$


### 三 向量的运算
#### (一) 定义与计算公式
设$a_j=x_j i+y_j j+z_j k={x_j,y_j,z_j}, \quad j=1,2,3.$
##### 1. 加法 
由平行四边形法则或三角形则给出，用坐标作运算则有
$$a_1+a_2={x_1+x_2,y_1+y_2,z_1+z_2}, \qquad \qquad (7.1)$$

##### 2. 数乘向量
$\lambda a$是一个向量，其模$|\lambda a|=|\lambda||a|,$ 而方向规定为：若$\lambda \gt 0,$则$\lambda a$与$a$同向，若$\lambda \lt 0,$则$\lambda a$与$a$反向.用坐标作运算为：若$a={x,y,z},$则
$$\lambda a={\lambda x,\lambda y,\lambda z}.\qquad \qquad \qquad  (7.2)$$

##### 3. 向量的数量积(点积，内积)
$a_1 \cdot a_2$是一个数，规定为$a_1 \cdot a_2=|a_1||a_2| \cos \theta,$其中$\theta$是$a_1与a_2$的夹角.用坐标作运算则有
$$a_1 \cdot a_2=x_1x_2+y_1y_2+z_1z_2, \qquad \qquad (7.3)$$
两个向量的夹角是指不超过$\pi$的那个角.

##### 4. 向量的向量积(叉积，外积)
$a_1 \times a_2$是一个向量，其模$|a_1 \times a_2|=|a_1| |a_2| \sin \theta,$其中$\theta$是$a_1,a_2$的夹角，其方向规定为与$a_1,a_2,a_1 \times a_2$符合右手系.用坐标作运算为
$$a_1 \times a_2 =\begin{vmatrix}
    i\qquad j\qquad k\\
    x_1 \qquad y_1 \qquad z_1\\
    x_2 \qquad y_2 \qquad z_2 \\
\end{vmatrix}.$$

##### 5. 混合积
三个向量$a_1,a_2,a_3$的混合积$(a_1,a_2,a_3)$是一个数，规定为$(a_1,a_2,a_3)=(a_1\times a_2) \cdot a_3.$用坐标运算就是
$$(a_1,a_2,a_3)=\begin{vmatrix}
    x_1 \qquad y_1 \qquad z_1 \\
    x_2 \qquad y_2 \qquad z_2 \\
    x_3 \qquad y_3 \qquad z_3 \\
\end{vmatrix}, \qquad \qquad (7.5)$$
#### (二) 运算法则
##### 1. 加法与数乘
$a+b=b+a, \qquad \qquad (a+b)+c=a+(b+c),$
$\lambda (\mu a)=(\lambda \mu)a, \qquad \qquad (\lambda+\mu)a=\lambda a+\mu a, \qquad \qquad (7.6)$
$\lambda(a+b)=\lambda a +\lambda b, \qquad \qquad 0+a=a,$
$ a+(-a)=0, \qquad \qquad \quad 1\cdot a=a. $

##### 2. 数量积
$a \cdot b =b \cdot a, \qquad (a+b)  \cdot c= a \cdot c+b \cdot c, \qquad (\lambda a) \cdot b=\lambda(a \cdot b).$

##### 3. 向量积
$a\times b=-b \times a, \qquad \qquad (\lambda a) \times b=\lambda (a \times b),$
$a \times (b+c)=a\times b +a \times c, \qquad a \times a=0.$
##### 4. 混合积
$(a,b,c)=(b,c,a)=(c,a,b), \qquad \qquad (a,a,b)=(a,b,a)=(a,b,b)=0.$
$(a,b,c)=-(b,a,c), \qquad \qquad (\lambda a,b,c)=\lambda (a,b,c),$
$(a_1+a_2,b,c)=(a_1,b,c)+(a_2,b,c).$

#### (三) 几何应用
##### 1. 加法与数乘的基和应用
(1) 建立坐标系；建立直线方程；建立平面方程.
(2) 过点$P_0,$方向向量为$S$的直线的向量方程是$r-r_0=t.S$
(3) 过点$P_0$,与$U_1,U_2(U_1,U_2不平行)$都平行的平面的向量方程是$r-r_0=t_1U_1+t_2U_2.$
(4) 设有任意非零向量$a$，则$a=|a|a_0,$其中$a_0$是与$a$同方向的单位向量.

##### 2. 数量积的应用
(1) 求模$|a|=\sqrt{a^2},$进而可求得两点距离.
(2) 求两个向量的夹角$\theta,$进而可求得两条直线、直线与平面、两个平面之间的夹角.
(3) 判定垂直：$a_1 \bot a_2 \Leftrightarrow a_1 \cdot a_2=0,$进而可证两条直线、两个平面的垂直关系，以及直线与平面的平行关系.
(4) 求点到平面的距离.
(5) 建立平面方程(点法式)：$n \cdot(r-r_0)=0.$

##### 3. 向量积的几何应用
(1) 求平行四边形(三角形)面积(以$a,b$为两邻边)的平行四边形的面积为$|a \times b|)$，进而可求点到直线的距离
$$d=\frac{|\overrightarrow{P_0 P_1}| \times S}{|S|}.$$
(2) 求两个平面交线的方向向量$S$,从而可把直线的一般方程化为直线的标准方程.设这两个平面的法向量分别是$n_1和n_2$，则交线$L与n_1,n_2$都要垂直，故可取$S=n_1 \times n_2.$
(3) 判断平行：
$$a_1 //a_2 \Leftrightarrow a_1 \times a_2 =0 \Leftrightarrow \frac{x_1}{x_2} = \frac{y_1}{y_2} = \frac{z_1}{z_2}(坐标成比例，a_j=(x_j,y_j,z_j),j=1,2)$$
$$\Leftrightarrow 存在实数\lambda,使得a_1 = \lambda a_2或a_2 = \lambda a_1.$$
##### 4. 混合积的几何应用
(1) 判断三个向量(或四个点)是否共面，向量$a_1=\{x_1,y_1,z_1\},a_2=\{x_2,y_2,z_2\},a_3=\{x_3,y_3,z_3\}$共面
$\Leftrightarrow 混合积(a_1,a_2,a_3)=0$
$$\Leftrightarrow \begin{vmatrix}
    x_1  \qquad x_2 \qquad x_3\\
    y_1 \qquad y_2 \qquad y_3 \\
    z_1 \qquad z_2 \qquad z_3\\
\end{vmatrix}=0$$
$\Leftrightarrow 存在不全为零的数k_1,k_2,k_3,$使$k_1a_1+k_2a_2+k_3a_3=0.$
(2) 进而可建立平面方程.若$U_1=\{X_1,Y_1,Z_1\},U_2=\{X_2,Y_2,Z_2\}$不平行，则过点$P_0(x_0,y_0,z_0)$与$U_1,U_2$都平行的平面的方程是$(\overrightarrow{P_0 P},U_1,U_2)=0.$用坐标表示，即
$$\begin{vmatrix}
    x-x_0 \quad y-y_0 \quad z-z_0\\
    X_1 \qquad Y_1 \qquad Z_1 \\
    X_2 \qquad Y_2 \qquad Z_2\\
\end{vmatrix}=0. \qquad \qquad (7.11)$$

(3) 求平行六面体的体积(亦可求四面体的体积).以$a,b,c$为三条棱的平行六面体的体积是$|(a,b,c)|.$
(4) 进而可判断两条直线是否异面并求两条异面直线公垂线的长.设直线$L_1,L_2$分别过点$P_1,P_2$,其方向向量分别为$U_1,U_2$,则$L_1与L_2$是异面直线 $\Leftrightarrow (\overrightarrow{P_1P_2},U_1,U_2) \neq 0.$
$\qquad$
设$L_1,L_2$是异面直线，过$L_1$作平面$II$平行于直线$L_2$，设$L_2$在$II$上投影直线为$QR$,它交$L_1$于$Q$为$L_2$上点$P$在$II$上的投影，$PQ$就是$L_1与L_2$的公垂线.以$U_1,U_2,\overrightarrow{P_1P_2}$为棱构造平行六面体，则底面$U_1,U_2$上的高就是公垂线$PQ$的长，记为$d$，且
$$d=\frac{|(\overrightarrow{P_1P_2},U_1,U_2)|}{|U_1\times U_2|}. \qquad \qquad (7.12)$$

(5) 可建立异面直线公共垂线的一般方程
$$\begin{cases}
    (\overrightarrow{P_1 P},U_1,U_1 \times U_2)=0,\\
     (\overrightarrow{P_2 P},U_2,U_1 \times U_2)=0,\\
\end{cases} \qquad \qquad (7.13)$$
(异面直线$L_1,L_2$的公垂线既在过$L_1$且平行于$U_1 \times U_2$的平面上，又在过$L_2$且平行于$U_1 \times U_2$的平面上.)

### 四 平面方程、直线方程
#### (一) 平面方程
##### 1. 平面方程的基本形式
- (1) 点法式 $A(x-x_0)+B(y-y_0)+C(z-z_0)=0;$
- (2) 一般式$Ax+By+Cz+D=0\quad (A,B,C不全为零);$
- (3) 向量式$r-r_0=t_1U_1+t_2U_2,其中r_0=\overrightarrow{OM},r=\overrightarrow{OP},P是平面II上任一点;$
- (4) 参数式$\begin{cases}
    x=X_1t_1+X_2t_2+x_0,\\
    y=Y_1t_1+Y_2t_2+y_0,\\
    z=Z_1t_1+Z_2t_2+z_0.\\
\end{cases}$

##### 2. 确定平面方程的两个基本思路
- (1) 如已知平面$II$上一点$M(x_0,y_0,z_0)$以及平面$II$的法向量$n={A,B,C},$则平面$II$被完全确定，它的方程是(7.14);
$\quad$
- (2) 如已知平面$II$上一点$M(x_0,y_0,z_0)$以及平面$II$平行的两个不共线的向量$U_1={X_1,Y_1,Z_1},U_2={X_2,Y_2,Z_2},$则平面$II$被完全确定，则平面$II$被完全确定，它的方程是
。。。
- **注意：** 如$P(x,y,z)$是平面上任一点，那么$\overrightarrow{MP},U_1,U_2$共面，因此混合积$(\overrightarrow{MP},U_1,U_2)=0,$即有(7.11).利用(7.11)建立平面方程是重要的.
#### (二) 直线方程
##### 1. 直线方程的基本形式
- (1) 一般式(交面式)$\begin{cases}
    A_1x+B_1y+C_1z+D_1=0,\\
    A_2x+B_2y+C_2z+D_2=0,\\
\end{cases}其中{A_1,B_1,C_1}与{A_2,B_2,C_2}不平行; \quad (7.15)$
$\quad$
- (2) 参数式$\begin{cases}
    x=x_0+tl,\\
    y=y_0+tm,\\
    z=z_0+tn,\\
\end{cases} \qquad (7.16)$
$\quad$
- (3) 对称式(标准式)$\frac{x-x_0}{l}=\frac{y-y_0}{m}=\frac{z-z_0}{n}. \qquad (7.17)$


##### 2. 确定直线方程的两个基本思路
- (1) 两个不平行的平面相交于一条直线，如$(7.15)$;
- (2) 已知直线$L$y上一点$M(x_0,y_0,z_0)$以及直线$L$的方向向量$S={l,m,n}$可确定直线$L,$它的方程是$(7.16)或(7.17)$.


### 五 平面、直线之间相互关系与距离公式
平面、直线间的相互关系，实质上是两个向量(平面的法向量或直线的方向向量)间的相互关系。
#### (一) 两个平面间的关系
设$II_1 \quad A_1x+B_1y+C_1z+D_1=0， \qquad II_2\quad:A_2x+B_2y+C_2z+D_2=0.$则
- (1) $II_1 // II_2 \Leftrightarrow \frac{A_1}{A_2}=\frac{B_1}{B_2}=\frac{C_1}{C_2}\neq \frac{D_1}{D_2};\quad (法向量共线但两平面不重合)$
$\quad$
- (2) $II_1 \bot II_2 \Leftrightarrow n_1 \bot n_2 \Leftrightarrow A_1A_2+B_1B_2+C_1C_2=0;$
$\quad$
- (3) $II_1 与II_2的夹角\theta(法向量间夹角，指不大于90^0的)$
$$\cos \theta = \frac{|n_1 \cdot n_2|}{|n_1||n_2|}=\frac{A_1A_2+B_1B_2+C_1C_2}{\sqrt{A_1^2+B_1^2+C_1^2} \sqrt{A_2^2+B_2^2+C_2^2}}.$$

#### (二) 两条直线间的关系
设$L_1:\quad \frac{x-x_1}{l_1}=\frac{y-y_1}{m_1}=\frac{z-z_1}{n_1},L_2:\quad \frac{x-x_1}{l_2}=\frac{y-y_1}{m_2}=\frac{z-z_1}{n_2}$则
- (1) $L_1 // L_2 \Leftrightarrow S_1 //S_2 \quad即\frac{l_1}{l_2}=\frac{m_1}{m_2}=\frac{n_1}{n_2}且(x_1,y_1,z_1)$不满足$L_2$的方程；
$\quad$
- (2) $$L_1 \bot L_2 \Leftrightarrow S_1 \bot S_2 \quad 即l_1l_2+m_1m_2+n_1n_2=0;$
$\quad$
- (3) $L_1与L_2间的夹角\theta(方向向量间夹角，指不大于90^0的)$
$$\cos \theta = \frac{|S_1 \cdot S_2|}{|S_1||S_2|}=\frac{l_1l_2+m_1m_2+n_1n_2}{\sqrt{l_1^2+m_1^2+n_1^2} \sqrt{l_2^2+m_2^2+n_2^2}}.$$

#### (三) 直线与平面的关系
设$L: \quad \frac{x-x_0}{l}=\frac{y-y_0}{m}=\frac{z-z_0}{n},\quad II:\quad Ax+By+Cz+D=0,$则
- (1) $L //II \Leftrightarrow S \bot n \quad 即 \quad Al+Bm+Cn=0且Ax_0+By_0+Cz_0+D \neq 0;$
$\quad$
- (2) $L \bot II \Leftrightarrow S // n\quad 即 \quad \frac{A}{l}=\frac{B}{m}=\frac{C}{n};$
$\quad$
- (3) $L与II的夹角\theta=\frac{\pi}{2}-(S与n的夹角)： \quad \sin \theta =\frac{|Al+Bm+Cn|}{\sqrt{A^2+B^2+C^2}\sqrt{l^2+m^2+n^2}}. \qquad \qquad(7.20)$

#### (四) 平面束方程
- 通过直线$L:\begin{cases}
    A_1x+B_1y+C_1z+D_1=0,\\
    A_2x+B_2y+C_2z+D_2=0\\
\end{cases}$的平面束方程是$\lambda(A_1x+B_1y+C_1z+D_1)+\mu (A_2x+B_2y+C_2z+D_2)=0,$其中$\lambda,\mu$是不同时为零的任意常数.

#### (五) 关于距离的计算公式
- (1) 两点$P_1(x_1,y_1,z_1),P_2(x_2,y_2,z_2)$间的距离
$$d=|\overrightarrow{P_1P_2}|= \sqrt{(x-x_1)^2+(y_2-y_1)^2+(z_2-z_1)^2}.$$
$\quad$
- (2) 点$P_0(x_0,y_0,z_0)$到直线$L:\frac{x-x_1}{l}=\frac{y-y_1}{m}=\frac{z-z_1}{n}$的距离是
$$d=|\overrightarrow{P_0P_1}| \sin <\overrightarrow{P_0P_1},S> =\frac{|\overrightarrow{P_0P_1} \times S|}{|S|}, $$
其中$P_1(x_1,y_1,z_1)$与$S$分别是直线$L$上的定点与方向向量.按向量叉积与模的运算得
$$d=\frac{|\{x_1-x_0,y_1-y_0,z_1-z_0\} \times \{l,m,n\}|}{|\{l,m,n\}|}= 。。。$$
$\quad$
- (3) 点$P_0(x_0,y_0,z_0)$到平面$II:Ax+By+Cz+D=0$的距离为
$$d=|\overrightarrow{P_1P_0}| \cos <\overrightarrow{P_1P_0},n> =\frac{|\overrightarrow{P_1P_0} \times n|}{|n|}, $$
其中$P_1$与$n$分别是平面$II$上的定点与法向量.按向量的点乘与模的运算得
$$d=\frac{|Ax_0+By_0+Cz_0+D|}{\sqrt{A^2+B^2+C^2}}. \qquad \qquad (7.21)$$

### 六 旋转面与柱面方程，常用二次曲面的方程及其图形
#### (一) 球面
- 设$P_0(x_0,y_0,z_0)$是球心，$R$是半径，$P(x,y,z)$是球面上任意一点，则$|\overrightarrow{P_0 P}|=R,$即
$$(x-x_0)^2+(y-y_0)^2+(z-z_0)^2=R^2.$$

#### (二) 旋转曲面
- 设$L$是$xOz$平面上一条曲线，其方程是$\begin{cases}
    f(x,z)=0,\\
    y=0.
\end{cases} \quad l$绕$z$轴旋转得到旋转曲面，设$P(x,y,z)$是旋转面上任一点，由点$P_0(x_0,0,z_0)$旋转而来(点$M(0,0,z)$是圆心).
- 由$|x_0|=|\overrightarrow{MP}|=\sqrt{x^2+y^2},z_0=z$得旋转曲面方程是
$$f(\pm \sqrt{x^2+y^2},z)=0; \qquad \qquad (7.22)$$
或由参数方程$x=f(t),y=g(t),z=h(t)(t \in (\alpha,\beta)),$得旋转面得参数方程
$\begin{cases}
    x=\sqrt{f^2(t)+g^2(t)} \cos \theta,\\
     y=\sqrt{f^2(t)+g^2(t)} \sin \theta,\\
     z=h(t),
\end{cases} $$ \quad \alpha \lt t \lt \beta, 0\leq \theta \leq 2\pi$.


#### (三) 柱面
- $\tau$是一条空间曲线，直线$L$沿$\tau$平行移动所产生得曲面叫柱面，$\tau$称为柱面的准线，$L$叫柱面的母线.
- 1. 若准线方程是$\tau:\begin{cases}
    f(x,y)=0,\\
    z=0.
\end{cases}$
(1) 当母线平行于$z$轴时，柱面方程是$f(x,y)=0;$
(2) 当母线的方向向量是$S=\{l,m,n\}$时，柱面方程是$f(x-\frac{l}{n}z,y-\frac{m}{n}z)=0.$
- 2. 若准线方程是$\tau :\begin{cases}
    x=f(t)\\
    y=g(t)\\
    z=h(t)
\end{cases} $ $\qquad t \in (\alpha,\beta)，$母线的方向向量是$S=\{l,m,n\}$，柱面方程是

$$\begin{cases}
    x=f(t)+lu,\\
    y=g(t)+mu,\\
    z=h(t)+nu\\
\end{cases} (\alpha \lt t \lt \beta, -\infty \lt u \lt + \infty).$$

#### (四) 二次曲面
|曲面方程|方程|曲面名称|方程|
|----|----|----|----|
|椭球面|$\frac{x^2}{a^2}+\frac{y^2}{b^2}+\frac{z^2}{c^2}=1$|旋转抛物面|$\frac{x^2}{2p}+\frac{y^2}{2p}=z (p \gt 0)$|
|椭圆抛物面|$\frac{x^2}{2p}+\frac{y^2}{2p}=z(p,q \gt 0)$|双曲抛物面|$-\frac{x^2}{2p}+\frac{y^2}{2p}=z (p,q \gt 0)$|
|单叶双曲面|$\frac{x^2}{a^2}+\frac{y^2}{b^2}-\frac{z^2}{c^2}=1$|双叶双曲面|$\frac{x^2}{a^2}+\frac{y^2}{b^2}-\frac{z^2}{c^2}=-1$|
|二次锥面|$\frac{x^2}{a^2}+\frac{y^2}{b^2}-\frac{z^2}{c^2}=0$|椭圆柱面|$\frac{x^2}{a^2}+\frac{y^2}{b^2}=1$|
|双曲柱面|$\frac{x^2}{a^2}-\frac{y^2}{b^2}=1$|抛物柱面|$\frac{x^2}{2p}=y (p \gt 0)$|

### 七 空间曲线在坐标平面上的投影
- 设$\tau$是一条空间曲线，$II$是一张平面，对于$\tau$上任意一点$P$，令$II(P)$是点$P$在平面$II$上的投影点，即$II(P) \in II, \overrightarrow{II(P)P} \bot II.$所有投影点的集合称为$\tau$在平面$II$上的投影曲线.而由垂线所购成的曲面是以$\tau$为准线的柱面，称为$\tau$到$II$的投影柱面.
- 1. 如$\tau:\begin{cases}
    f(x,y,z)=0,\\
    g(x,y,z)=0,
\end{cases}$消去$z$得到$\varphi(x,y)=0,$这是以$\tau$为准线，母线平行于$z$轴的柱面方程.而$\begin{cases}
    \varphi(x,y)=0,\\
    z=0.
\end{cases}$是$ \tau$在$xoy$平面的投影曲线方程.
- 2. 如$\tau:\begin{cases}
    x=f(t),\\
    y=g(t),\\
    z=h(t),
\end{cases}$则$\begin{cases}
    x=f(t),\\
    y=g(t),\\
    z=0,
\end{cases}$是$\tau$在$xOy$平面的投影曲线方程.





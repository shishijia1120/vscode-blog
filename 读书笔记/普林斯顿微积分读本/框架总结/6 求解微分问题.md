## 6 求解微分问题
### 6.1 使用定义求导
- 假设要对$f(x)=1/x$关于$x$求导。从上一章中可知，导数的定义是
$$f'(x)=\lim\limits_{h \to 0}\frac{f(x+h)-f(x)}{h}$$

因此有
$$f'(x)=\lim\limits_{h \to 0}\frac{\frac{1}{x+h}-\frac{1}{x}}{h}$$

化简得到：
$$f'(x)=\lim\limits_{h \to 0}\frac{-h}{hx(x+h)}=f'(x)=\lim\limits_{h \to 0}\frac{-1}{x(x+h)}$$

$h=0$，求极限值：
$$=\frac{-1}{x^2}$$

也就是说：
$$\frac{d}{dx}(\frac{1}{x})=-\frac{1}{x^2}$$

也可尝试$f(x)=\sqrt{x}$，可得

$$\frac{d}{dx}=\frac{1}{2\sqrt{x}}$$

尝试求$f(x)=\sqrt{x}+x^2$的导数？

是时候对$x^n$关于$x$求导了，其中$n$是某个正整数.设$f(x)=x^n$，那么有

$$f'(x)=\lim\limits_{h \to 0}\frac{f(x+h)-f(x)}{h}=\lim\limits_{h \to 0}\frac{(x+h)^n-x^n}{h}$$

我们必须想办法处理$(x+h)^n$.可以写成
$$(x+h)^n=x^n+nhx^n-1+h^2\times(垃圾)$$

将上述形式带入导数的公式里：
$$f'(x)=\lim\limits_{h \to 0}\frac{nhx^{n-1}+h^2\times(垃圾)}{h}=\lim\limits_{h \to 0}(nx^{n-1}+h\times(垃圾))$$ 

当$h\rightarrow 0$时，第二项趋于0，而第一项仍然是$nx^{n-1}$，因此，得出：当n是一个正整数时：
$$\frac{d}{dx}(x^n)=nx^{n-1}.$$

事实上，当$a$是任意实数时，
$$\frac{d}{dx}(x^a)=ax^{a-1}.$$
### 6.2 用更好的办法求导
#### 6.2.1 函数的常数倍
假设$y$是关于$x$的一个可导函数$c，c$是某个常数。我们想要证明
$$\frac{d}{dx}(cy)=c\frac{dy}{dx}$$

$$\lim\limits_{\Delta x \to 0}\frac{cf(x+\Delta x)-cf(x)}{\Delta x}=c\lim\limits_{\Delta x \to 0}\frac{f(x+\Delta x)-f(x)}{\Delta x}$$

$$=cf'(x)=c\frac{dy}{dx}$$
#### 6.2.2 函数和与函数差
假设$u和v$都是$x$的可导函数，我们想要证明的是
$$\frac{d}{dx}(u+v)=\frac{du}{dx}+\frac{dv}{dx}$$

$$\lim\limits_{\Delta x \to 0}\frac{f(x+\Delta x)+g(x + \Delta x)-(f(x)+g(x))}{\Delta x}$$

$$=\lim\limits_{\Delta x \to 0}\frac{f(x+\Delta x)-f(x)}{\Delta x}+\lim\limits_{\Delta x \to 0}\frac{g(x+\Delta x)-g(x)}{\Delta x}$$

$$=f'(x)+g'(x)$$

#### 6.2.3 通过乘积法则求积函数的导数
我们有：
$$\frac{dy}{dx}=\lim\limits_{\Delta x \to 0}\frac{\Delta y}{\Delta x}$$

我们想要证明：
$$\frac{d}{dx}(uv)=v\frac{du}{dx}+v\frac{dv}{dx}.$$

$$\Delta (uv)=(u+\Delta u)(v + \Delta v)-uv.$$

$$\Delta(uv)=v\Delta u+u\Delta v +\Delta u \Delta v.$$

$$\frac{\Delta x(uv)}{\Delta x}=v\frac{\Delta u}{\Delta x}+u\frac{\Delta v}{\Delta x}+\frac{\Delta u}{\Delta x}\frac{\Delta v}{\Delta x}\Delta x$$

$$\frac{d}{dv}(uv)=v\frac{du}{dx}+u\frac{dv}{dx}+\frac{du}{dx}\frac{dv}{dx}\times 0$$

- 乘积法则（版本1）如果$h(x)=f(x)g(x),那么h'(x)=f'(x)g(x)+f(x)g'(x).$
- 乘积法则（版本2）如果$y=uv,则\frac{dy}{dx}=v\frac{du}{dx}+u\frac{dv}{dx}.$
- 乘积法则（三个变量）如果$y=uvw，那么\frac{dy}{dx}=\frac{du}{dx}vw+u\frac{dv}{dx}w+uv\frac{dw}{dx}$
#### 6.2.4 通过商法则求商函数的导数
现在我们想要证明：
$$\frac{d}{dx}(\frac{u}{v})=\frac{v\frac{du}{dx}-u\frac{dv}{dx}}{v^2}.$$

同样：
$$\Delta (\frac{u}{v})=\frac{u+\Delta u}{v+\Delta v}-\frac{u}{v}.$$

$$\Delta(\frac{u}{v})=\frac{u\Delta u-u\Delta v}{v^2+v\Delta v}.$$

将上式除以$\Delta x$，得到：
$$\frac{\Delta (\frac{u}{v})}{\Delta x}=\frac{v\frac{\Delta u}{\Delta x}-u\frac{\Delta v}{\Delta x}}{v^2+v\Delta v}.$$

令$\Delta x \rightarrow 0$，得到:
$$\frac{d}{dx}(\frac{u}{v})=\frac{v\frac{d u}{d x}-u\frac{d v}{d x}}{v^2+v\frac{d v}{d x}\times 0}.$$

- 商法则（版本1）如果$h(x)=\frac{f(x)}{g(x)},那么h'(x)=\frac{f'(x)g(x)-f(x)g'(x)}{(g(x))^2}$
- 商法则（版本2）如果$y=\frac{u}{v}，那么\frac{dy}{dx}=\frac{v\frac{du}{dx}-u\frac{dv}{dx}}{v^2}$
#### 6.2.5 通过链式求导法则求复合函数的导数
我们想要证明：
$$\frac{dy}{dx}=\frac{dy}{du}\frac{du}{dx}$$

可使用$\Delta x$记号写出并取极限：
$$\frac{\Delta y}{\Delta x}=\frac{\Delta y}{\Delta u}\frac{\Delta u}{\Delta x}$$

- 链式求导法则（版本1）如果$h(x)=f(g(x))，那么h'(x)=f'(g(x))g'(x).$
- 链式法则（版本2）如果$y$是$u$的函数，并且$u$是$x$的函数，那么$\frac{dy}{dx}=\frac{dy}{du}\frac{du}{dx}.$

### 6.3 求切线方程

### 6.4 速度和加速度

### 6.5 导数伪装的极限
现在如何考虑求解极限
$$\lim\limits_{h \to 0}\frac{\sqrt[5]{32+h}-2}{h}$$

这看起来一点希望都没有，甚至同乘以共轭表达式$\sqrt[5]{32+h}+2$的技巧也不去作用，因为它是五次方根，不是平方根。因此，暂且将它放在一边并考虑一个相关的极限
$$\lim\limits_{h \to 0}\frac{\sqrt[5]{x+h}-\sqrt[5]{x}}{h}$$

因此，所要做的是设$f(x)=\sqrt[5]{x}，并且注意到f'(x)=\frac{1}{5}x^{-4/5}$

现在可以返回的初始极限
$$\lim\limits_{h \to 0}\frac{\sqrt[5]{32+h}-2}{h}.$$

这其实是我们刚刚求解的极限
$$\lim\limits_{h \to 0}\frac{\sqrt[5]{x+h}-\sqrt[5]{x}}{h}=\frac{1}{5}x^{-4/5}$$

的一个特例。如果在此极限中设$x=32$，就会得到$\frac{1}{80}$

这里是另一个例子：
$$\lim\limits_{h \to 0}\frac{\sqrt{(4+h)^3-7(4+h)}-6}{h}$$

### 6.6 分段函数的导数
考虑以下分段函数$f$是否可导:
$$f(x)=\begin{cases}
   1 , & 如果x\leq 0,\\
   x^2+1, & 如果x>0.
\end{cases}$$

因为$f$在$x=0$上连续（左右极限相等，证明省略），仍需证明$f$在$x=0$上可导.为了求证，必须证明在$x=0$上的左导数和右导数相等，可得左右导数相等，即函数在$x=0$上可导.

因此，检验一个分段函数在分段连接点上是否可导，需要检验分段在连接点上相等（以证明连续性）以及分段的导数在连接点上相等。否则，在连接点上不可导。如果有两个以上的分段，就必须在所有的连接点上检验连续性和可导性.
$$g(x)=\begin{cases}
   |x^2-4|, & 如果x\leq1,\\
   -2x+5,   & 如果x>1.
\end{cases}$$
### 6.7 直接画出导函数的图像
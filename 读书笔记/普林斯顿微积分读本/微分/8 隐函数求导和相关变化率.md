## 8 隐函数求导和相关变化率
过去几章，我们都在试图对眼前的一切进行求导。现在暂且打断一下，是时候来看一下隐函数的求导，后者是对常规求导的一个很好的一般化。之后，我们会看到如何使用这种技巧来求解涉及变化的量的应用问题。如果知道一个量的变化有多快，我们就能求出另一个不同的但与之变化相关的变化会有多快。
### 8.1 隐函数求导
考虑两个导数：
$$\frac{d}{dx}(x^2) 和\frac{d}{dx}(y^2).$$

很明显，第一个是2x，那么第二个呢？
最好的办法是告诉自己，上面第一个导数问的是：当对$x$稍作改变时，量$x^2$会有多大变化。

如果对$x$稍作改变，那么$x^2$就会有近似$2x$倍那么多的变化。
另一方面，如果对$x$稍作改变，$y^2$会怎么样呢？这正是为了求出上面第二个导数$d(y^2)/dx$所需要知道的。

不妨这样思考：如果改变$x$，那么$y$会有点变化；$y$的这个变化又会引起$y^2$的变化。（当然，这一切只有当$y$依赖于$x$时才正确。如果不是这样的话，那么改变$x$时，$y$根本不会有任何变化。）

解决办法：使用链式求导法则。
$$\frac{d}{dx}(y^2)=\frac{du}{dx}=\frac{du}{dy}.\frac{dy}{dx}=2y\frac{dy}{dx}.$$

因此，如果对$x$稍作改变，那么$y^2$会有$2y(dy/dx)$倍的变化.
#### 8.1.1 技巧和例子
考虑方程：
$$x^2+y^2=4.$$

这里量$y$不是$x$的函数
$$\frac{d}{dx}(x^2+y^2)=\frac{d}{dx}(4)$$

$$\rightarrow 2x+2y\frac{dy}{dx}=0$$

整理得到：
$$\frac{dy}{dx}=-\frac{x}{y}.$$

例子1(使用链式求导法则)：
$$5\sin(x)+3\sec(y)=y-x^2+3$$

例子2（使用乘积或商法则）：
$$y\cot(x)=3\csc(y)+x^7,$$

例子3（难）：
$$x-y\cos(\frac{y}{x^4})=\pi+1.$$

**小结：**
- 在原始方程中，对一切求导并使用链式求导法则、乘积法则以及商法则进行化简；
- 如果想要求dy/dx，可重新整理并作除法来求解dy/dx;不过如果想求是斜率或某一的切线方程，可先代入x和y的已知值。

#### 8.1.2 隐函数求二阶导数
如果
$$2y+\sin(y)=\frac{x^2}{\pi}+1,$$

那么该曲线上点$(\pi.\pi/2)$处的$d^2y/dx^2$的值是什么呢？首先，应先代入$x$和$y$的值，看看方程是否成立来检验该点是否位于曲线上。

先求导一次：
$$2\frac{dy}{dx}+\cos(y)\frac{dy}{dx}=\frac{2x}{\pi},$$

现在需要再求导一次，务必先不要做代入！
$$\frac{d}{dx}(2\frac{dy}{dx})+\frac{d}{dx}(\cos(y)\frac{dy}{dx})=\frac{d}{dx}(\frac{2x}{\pi}).$$

棘手的是左边第二项，需使用乘积法则：设$s=\cos(y)(dy/dx)$，以及$u=\cos(y)和v=dy/dx$，这样$s=uv$。根据乘积法则，
$$\frac{ds}{dx}=v\frac{du}{dx}+u\frac{dv}{dx}=\frac{dy}{dx}.\frac{du}{dx}+\cos(y)\frac{d}{dx}(\frac{dy}{dx})=\frac{dy}{dx}.\frac{dy}{dx}.\frac{du}{dx}+\cos(y)\frac{d^2y}{dx^2}.$$

仍需求出$du/dx$，其中$u=\cos(y)$.这其实就是链式求导法则的再次运用：
$$\frac{du}{dx}=\frac{du}{dy}.\frac{dy}{dx}=-\sin(y)\frac{dy}{dx}.$$

综上可以看到：
$$\frac{ds}{dx}=\frac{dy}{dx}.\frac{dy}{dx}.\frac{du}{dx}+\cos(y)\frac{d^2y}{dx^2}=\frac{dy}{dx}.(-\sin(y)\frac{dy}{dx})+\cos(y)\frac{d^2y}{dx^2}$$

$$=-\sin(y)(\frac{dy}{dx})^2+\cos(y)\frac{d^2y}{dx^2}.$$

不管这样，让我们把一切凑一起，先从：
$$\frac{d}{dx}(2\frac{dy}{dx})+\frac{d}{dx}(\cos(y)\frac{dy}{dx})=\frac{d}{dx}(\frac{2x}{\pi}).$$

开始，现在可以将它写成
$$2\frac{d^2y}{dx^2}-\sin(y)(\frac{dy}{dx})^2+\cos(y)\frac{d^y}{dx^2}=\frac{2}{\pi}.$$

该式化简为：
$$2\frac{d^2y}{dx^2}-(\frac{dy}{dx})^2=\frac{2}{\pi}.$$

问题是，我们仍需知道$dy/dx$！但这不成问题：在方程
$$2\frac{dy}{dx}+\cos(y)=\frac{2x}{\pi}$$

中代入$x=\pi$和$y=\pi/2$，会得到
$$2\frac{dy}{dx}+\cos(y)\frac{dy}{dx}=\frac{2x}{\pi}=2,$$

因此，$dy/dx=1$，将其代入二阶导方程，得到
$$2\frac{d^2y}{dx^2}-(1)^2=\frac{2}{\pi}.$$

这意味着，当$x=\pi 且y=\pi/2$时，
$$\frac{d^2y}{dx^2}=\frac{1}{\pi}+\frac{1}{2}.$$

由此，我们终于完成了求解！


### 8.2 相关变化率
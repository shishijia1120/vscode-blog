## 23 求解级数问题

![alt 文本](./../../../图片/普23.1.png)
### 23.1 求几何级数的值

$$几何级数的一般形式\sum_{n=m}^\infty a r^n，其中r是公比。，若-1< 公比 < 1，无穷几何级数的和=\frac{首项}{1-公比}.$$

$如果公比不是介于-1和1之间，则级数发散。$

----
具体应用1：
$$\sum_{n=5}^\infty \frac{4}{3^n}.$$

由此，我们可知公比是1/3，它介于-1到1之间。故该级数收敛。

$$\sum_{n=5}^\infty \frac{4}{3^n}=\sum_{n=5}^\infty 4 (\frac{1}{3})^n=\frac{4/3^5}{1-1/3},$$

结果为2/81.

----
例2：
$$\sum_{n=2}^\infty \frac{2^{2n}-(-7)^n}{11^n}$$
它不是几何级数，但可以分成两个几何级数之差。
$$\sum_{n=2}^\infty \frac{2^{2n}-(-7)^n}{11^n}=\sum_{n=2}^\infty \frac{2^{2n}}{11^n}-\sum_{n=2}^\infty \frac{(-7)^n}{11^n}.  $$

在第一个级数中，你可以用$4^n替换2^{2n}：$
$$\sum_{n=2}^\infty \frac{2^{2n}-(-7)^n}{11^n}=\sum_{n=2}^\infty (\frac{4}{11})^n-\sum_{n=2}^\infty (\frac{-7}{11})^n.$$

由于这两个级数的公式分别为4/11和-7/11，都介于-1和1之间，因此都收敛，故我们可以写出上式。n=2为第一项，所以首项分别为$(4/11)^2和(-7/11)^2$.因此计算出来为
$$\frac{(4/11)^2}{1-(4/11)}-\frac{(-7/11)^2}{1-(-7/11)},$$

化简后为-5/126.

----
例3：
$$\sum_{n=2}^\infty \frac{2^{2n}-(-13)^n}{11^n}.$$

这次还是把和拆成两组，写为
$$\sum_{n=2}^\infty (\frac{4}{11})^n - \sum_{n=2}^\infty (\frac{-13}{11})^n .$$

不必求出第一个级数的值，只需要知道它收敛。第二个级数由于公比-13/11不是介于-1和1之间而发散。收敛级数和发散级数之和一定发散!

可见，几何级数很好计算。如果给定的不是几何级数，按照下面的顺序，从第n项判别法开始判断。
### 23.2 应用第n项判别法

无论什么时候都要首先考虑第n项判别法!其内容为：
$$若\lim \limits_{n \rightarrow \infty} a_n \neq 0 或极限不存在，则级数\sum_{n=1}^\infty a_n发散.$$

若级数通项不趋于0，则级数定发散。若通项趋于0，则级数可能发散也可能收敛：需要进一步判断，该判别法不能用于级数收敛性的判定。总之，只需快速检验一下通项是否趋于0，避免在其他判别法浪费时间。

----
例如，考察级数
$$\sum_{n=1}^\infty \frac{n^2-3n+7}{4n^2+2n+1},$$

不需要考虑其他任何判别法，只要注意

$$\lim \limits_{n\rightarrow \infty} \frac{n^2-3n+7}{4n^2+2n+1}=\frac{1}{4},$$

即该级数通项不趋于0，由第n项判别法可知原级数发散。

如果级数通项趋于0，则需要尝试用其他判别法来判别。在进行判断之前，一定要快速看下级数是否有负项。这种情况一般发生在有些项包含负号、因子$(-1)^n$或三角函数(尤其是sin(n)或cos(n))时，出现负项的情形参见23.7节。若各项均为正，用下面的判别法进行判定。


### 23.3 应用比式判别法


若级数中包含阶乘，用比式判别法。记住，阶乘包含感叹号，如n!或(2n+5)!.对于含有指数的级数，如$2^n或(-5)^{3n}，$比式判别法同样适用。

$$若L=\lim \limits_{n \rightarrow \infty}|\frac{a_{n+1}}{a_n}|，则n=\sum_{n=1}^\infty a_n 在L<1时绝对收敛，在L>1时发散；$$

$但当L=1或极限不存在时，比式判别法无效.$

可按照下面的步骤使用比式判别法进行判别：
$$\lim \limits_{n \rightarrow \infty} |\frac{a_{n+1}}{a_n}|=\lim \limits_{n \rightarrow \infty}|\frac{第n项中用n+1代换n}{第n项}|$$

因为可能会是分式比分式的形式，所以这里要用稍长的分数线。级数的第n项是$a_n$，把n换成(n+1)就得到$a_{n+1}$。现在求上面的极限，假设我们已经完成这一步并求得极限值L，则有三种可能：

1. 若L<1，则原级数$\sum_{n=1}^\infty a_n$收敛，实际上是绝对收敛：
2. 若L>1，则原级数发散；
3. 若L=1或极限不存在，则比式判别法无效，尝试用其他方法。

----
考虑：
$$\sum_{n=1}^\infty \frac{n^{1000}}{2^n}.$$

由于分子是多项式，所以该级数不是几何级数，又因为指数增长速度快于多项式，可知第n项的极限为0，即

$$\lim \limits_{n \rightarrow \infty} \frac{n^{1000}}{2^n}=0，$$

则我们不能用第n项判别法。因为该级数包含指数，我们试一下比式判别法。根据标准步骤，有
$$\lim \limits_{n \rightarrow \infty} |\frac{a_{n+1}}{a_n}|=\lim \limits_{n \rightarrow \infty}|\frac{\frac{(n+1)^{1000}}{2^{n+1}}}{\frac{n^{1000}}{2^n}}|.$$

注意分母就是第n项，我们直接将其从原级数中挪过来的；分子除了将n换位n+1外，跟分母一样。现在通过将上述表达式颠倒相乘，分组同类项，得到
$$\lim \limits_{n \rightarrow \infty}|\frac{(n+1)^{1000}}{n^{1000}} \frac{2^n}{2^{n+1}}|=\lim \limits_{n \rightarrow \infty}(\frac{n+1}{n})^{1000}\frac{1}{2}=1^{1000}\times \frac{1}{2}=\frac{1}{2}.$$

注意我们去掉了绝对值号(每项都为正)，把1000次方的项也写在一起，同时运用了事实
$$\lim \limits_{n \rightarrow \infty}(n+1)/n=1.总之，上面的极限为1/2，它小于1，所以由比式判别法可知原级数收敛。$$

----

考虑：
$$\sum_{n=2}^\infty\frac{3^n}{nln(n)}.$$

能够得到，当$n \rightarrow \infty$时，级数通项趋于$\infty$，所以由第n项判别法可知该级数发散。
假设你只考虑了比式判别法，同样能得到
$$\lim \limits_{n \rightarrow \infty} |\frac{a_{n+1}}{a_n}|=\lim \limits_{n \rightarrow \infty}|\frac{\frac{3^{n+1}}{(n+1)ln(n+1)}}
{\frac{3n}{nln(n)}}|=\lim \limits_{n \rightarrow \infty}\frac{3^{n+1}}{3^n} \frac{n}{n+1}\frac{ln(n)}{ln(n+1)}=3.$$

$$我们用到了\lim \limits_{n \rightarrow \infty} n/(n+1)=1和\lim \limits_{n \rightarrow \infty} ln(n)/ln(n+1)=1，前者好求，而后者就不容易了。$$

$$对后一个极限，可用洛必达法则验证是否极限为1.总之，上述比值的极限是3，因3>1，原级数发散。$$

$所以，虽然我们没有第n项判别法，比式判别法也能判别。$

----
当遇到含阶乘的级数时，比式判别法是相当有用的。记住n!是从1到n的自然数之积：
$$n!=1\times2\times3\times \cdots \times (n-1) \times n.$$

![alt 文本](./../../../图片/普23.3.1.png)

例如级数：
$$\sum_{n=1}^\infty \frac{(2n)!}{(n!)^2}.$$

该级数收敛还是发散？通项是否趋于0并不清楚，但级数中含有阶乘，所以我们直接考虑比式判别法:
$$\lim \limits_{n \rightarrow \infty}|\frac{a_{n+1}}{a_n}|=\lim \limits_{n \rightarrow \infty} |\frac{\frac{(2(n+1))!}{((n+1)!)^2}}
{\frac{(2n)!}{(n!)^2}}|=\lim \limits_{n \rightarrow \infty} \frac{(2n+2)!}{(2n)!}(\frac{n!}{(n+1)!})^2.$$

注意我们对比式和幂次进行了变形，上述结果可化简为
$$\lim \limits_{n \rightarrow \infty}(2n+2)(2n+1)(\frac{1}{n+1})^2=\lim \limits_{n \rightarrow \infty}\frac{4n^2+6n+2}{n^2+2n+1}=4.$$

所以极限值大于1，级数发散。

----

考虑级数：
$$\sum_{n=1}^\infty \frac{n!}{(n+3)^n}.$$

它含有阶乘，故我们有比式判别法，有
$$\lim \limits_{n \rightarrow \infty}|\frac{a_{n+1}}{a_n}|=\lim\limits_{n \rightarrow \infty}|...|=\lim\limits_{n \rightarrow \infty} \frac{(n+1)!}{n!} \frac{(n+3)^n}{(n+4)^{n+1}}=\lim\limits_{n \rightarrow \infty}(n+1)\frac{(n+3)^n}{(n+4)^{n+1}}.$$

把分母变成$(n+4) \times (n+4)^n，以使其与分子的幂次一样呢?$
$$\lim\limits_{n \rightarrow \infty}(n+1)\frac{(n+3)^n}{(n+4)^{n+1}}=\lim\limits_{n \rightarrow \infty} \frac{n+1}{n+4}\frac{(n+3)^n}{(n+4)^n}=\lim\limits_{n \rightarrow \infty}\frac{n+1}{n+4}(\frac{n+3}{n+4})^n.$$


$$有些明朗了。第一个因子(n+1)/(n+4)显然在n \rightarrow \infty时趋于1，$$

$但第二个似乎有点难.计算它的第一个方法就是将n换成x，考虑极限：$
$$\lim \limits_{x \rightarrow \infty}(\frac{x+3}{x+4})^x.$$

根据洛必达法则类型C，求对数(经过某些代数运算后)的极限：
$$\lim\limits_{x \rightarrow \infty}ln(\frac{x+3}{x+4})^x=\lim\limits_{x \rightarrow \infty} x ln(\frac{x+3}{x+4})=\lim\limits_{x \rightarrow \infty}\frac{ln(\frac{x+3}{x+4})}{1/x}.$$

$$分子当x\rightarrow \infty时趋于0，因为(x+3)/(x+4) \rightarrow 1，且ln(1)=0.分母也趋于0，$$

$可用洛必达法则证明:$

$$\lim\limits_{n \rightarrow \infty} ln(\frac{x+3}{x+4})^x=-1.$$

这部分工作留给你自己完成，取幂并将x换回n，我们就得到
$$\lim \limits_{n \rightarrow \infty}(\frac{n+3}{n+4})^n=e^{-1}.$$

现在，我们需要的每一部分都已得到，上面比式的极限值为：
$$\lim \limits_{n \rightarrow \infty}|\frac{a_{n+1}}{a_n}|=\lim \limits_{n \rightarrow \infty} \frac{n+1}{n+4}(\frac{n+3}{n+4})^n=1 \times e^{-1}=\frac{1}{e}.$$

由于该极限值小于1，故原级数收敛.

----

级数
$$\sum_{n=2}^\infty \frac{1}{n ln(n)}$$

的敛散性如何呢？显然，当$n \rightarrow \infty$时通项趋于0.试一下比式判别法：
$$\lim \limits_{n \rightarrow \infty}|\frac{a_{n+1}}{a_n}|=\lim \limits_{n \rightarrow \infty}|...|=\lim \limits_{n \rightarrow \infty} \frac{n}{n+1}\frac{ln(n)}{ln(n+1)}=1.$$

(对于含对数的比式的极限，仍要用到洛必达法则.)我们已经得到比式的极限为1，这意味着什么?意味着比式判别法不能给出任何有用的信息。需要试一下其他的方法。事实上，积分判别法判定这个级数的最好方法。


### 23.4 应用根式判别法
当级数通项的指数为特殊的关于n的函数时，用根式判别法。$当通项具有形式A^B，其中A和B都为关于n的函数时，根式判别法尤其有用。$

$$若L=\lim \limits_{n \rightarrow \infty}|a_n|^{1/n}，则n=\sum_{n=1}^\infty a_n在L<1时绝对收敛，在L>1时发散；$$

$但当L=1或极限不存在时，比式判别法无效。$

使用根式判别法，一般先讨论表达式：
$$\lim \limits_{n \rightarrow \infty}|a_n|^{1/n},$$

然后将$a_n$代换为研究所级数的通项，求极限(如果存在的话)，并称之为L。则与比式判别法一样，有三种可能，幸好结论也是一样的：

$1. 若L<1，则原级数\sum_{n=1}^\infty a_n收敛，实际上是绝对收敛;$
$2. 若L>1，则原级数发散;$
$3. 若L=1或极限不存在，则根式判别法无效，尝试其他方法。$


例如，考虑级数：
$$\sum_{n=1}^\infty (1-\frac{2}{n})^{n^2}.$$

由于通项的指数包含n的幂次，因而该级数能用根式判别法来判别。应用根式判别法，有：
$$\lim \limits_{n \rightarrow \infty}|a_n|^{1/n}=\lim \limits_{n \rightarrow \infty}|(1-\frac{2}{n})^{n^2}|^{1/n}=\lim \limits_{n \rightarrow \infty}(1-\frac{2}{n})^{n^2 \times \frac{1}{n}}=\lim \limits_{n \rightarrow \infty}(1-\frac{2}{n})^n$$

$=e^{-2}<1.$

注意我们把绝对值号去掉，因为该式为正，并应用22.1.2节最后的那个重要极限(把k换成-2).所以极限值为$e^{-2}$，显然小于1；由根式判别法知原级数收敛.

### 23.5 应用积分判别法

当级数同时含有$1/n和ln(n)$时，可用积分判别法。由22.5.3节可知，若N为任意正整数，则我们可以说:

$$若对连续递减函数f有a_n=f(n)，则\sum_{n=N}^\infty a_n与 \int_N^\infty f(x)dx同时收敛或同时发散.$$

下面是积分判别法的实际应用步骤：
- $将n换位x，将\sum_{n=1}^\infty 换成\int_1^\infty，并在后面加dx.当然，若级数从n=2开始，则用\int _2^\infty 代换.$

- $检验被积函数是否递减，这可以通过验证导数是否为负或直接检查被积函数获知。$

- $现在讨论第一步中的反常积分。用积分讨论级数的一个主要好处是可以对积分做换元(或变量替换，如果你喜欢的话)。$
$本书中最常见的换元是t=ln(x).$

- $若反常积分收敛，则级数也收敛；若积分发散，则级数也发散.$

例如，考虑：
$$\sum_{n=2}^\infty \frac{1}{n ln(n)}.$$

事实上我们已经讨论过该级数了。在23。3节层试图用比式判别法进行敛散性判定，但没有成功。现在我们换用积分判定法进行判定。因为它包含了$1/n和ln(n)$.将变量n换为x，和式换位积分，可得：
$$\int_2^\infty \frac{1}{xln(x)}dx.$$

被积函数$1/(xln(x))$关于x递减，这可以通过证明其导数为负得到;或更直接地，观察$x和ln(x)$均关于x递减，则它们的乘积也递增，所以倒数$1/(xln(x))$递减.不管怎样，我们已经在第21章讨论过这个积分，这里给出大致过程：做换元t=ln(x)，则dt=1/xdx，积分变为：
$$\int_{ln(2)}^ \infty \frac{1}{t}dt,$$

由积分p判别法可知该积分发散。由于积分发散，则原级数也发散(积分判别法).


----

另一方面，我们对级数做个小的变动：考虑：
$$\sum_{n=2}^\infty \frac{1}{n(ln(n))^2}.$$

同样包含因子1/n和对数，所以尝试用积分判别法.将n换为x，并将级数转换为积分可得：
$$\int_2^\infty \frac{1}{x(ln(x))^2}dx.$$

确保被积函数关于x递减。做换元t=ln(x)，这次积分变为：
$$\int_{ln(2)}^\infty \frac{1}{t^2}dt,$$

根据p判别法，该积分收敛。这一次级数收敛(积分判别法).将这个例子与前面例子一起来看，可以发现级数收敛的整个过程是多么地微妙。我们知道随着n的增大，ln(n)与n的任意正数次幂相比是很小的，但上面的例子共同说明了对数会带来很大的不同。$\sum_{n=2}^\infty 1/(nln(n))$分母上ln(n)的幂次增加一个很小的量都会将一个发散级数变为一个收敛级数.


### 23.6 应用比较判别法、极限比较判别法和p判别法

当其他的判别法不能使用时，对正项级数应用这些判别法。你一定是想最先应用第n项判别法，然后对包含阶乘的级数采用比式判别法，对包含底和指数都为n的函数的项的级数采用根式判别法，或对包含因子1/n和对数的级数采用积分判别法。还剩下什么呢?基本上与积分的工具一样：比较判别法、极限比较判别法、p判别法，以及对常见函数在$\infty 和 0$附近的表现的理解.非常有必要在学习本节前复习第21章，因为方法几乎是相同的。不管怎样，这里会再次讨论那些判别法(为了便于对比，在这里，比较判别法和极限比较判别法中的$a_n$都假定为非负.)

1. **比较判别法的发散情形：**
$$若认为\sum_{n=1}^\infty a_n发散，则找一个同样发散的较小的级数，即找一个使得对所有n都有a_n \geq b_n$$

$\qquad 的正项数列{b_n}，使得级数\sum_{n=1}^\infty b_n发散.则$
$$\sum_{n=1}^\infty a_n \geq \sum_{n=1}^\infty b_n=\infty$$

$\qquad所以\sum_{n=1}^\infty a_n发散.$

2. **比较判别法的收敛情形：**
$$若认为\sum_{n=1}^\infty a_n收敛，则找一个同样收敛的较大的级数；即找一个使得对所有n都有a_n \leq b_n的数列{b_n}，$$

$\qquad 使得级数\sum_{n=1}^\infty b_n收敛.则$

$$\sum_{n=1}^\infty a_n \leq \sum_{n=1}^\infty b_n < \infty$$

$\qquad所以\sum_{n=1}^\infty a_n收敛.$

3. **极限比较判别法：**
$$找一个当n \rightarrow \infty 时a_n \sim b_n的简单级数\sum_{n=1}^\infty b_n.则若\sum_{n=1}^\infty b_n收敛，\sum_{n=1}^\infty a_n也收敛.$$

$$\quad另一方面，若\sum_{n=1}^\infty b_n发散，则\sum_{n=1}^\infty a_n也发散.(当n \rightarrow \infty 时a_n \sim b_n 与\lim \limits_{n \rightarrow \infty} a_n/b_n=1意思一样.)$$

4. **p判别法**：
$若a \geq 1，级数$
$$\sum_{n=a}^\infty \frac{1}{n^p} \begin{cases}
   收敛，如果p>1； \\
   发散，如果p \leq 1. \\ 
\end{cases}$$

![alt 文本](./../../../图片/普23.6.4.png)

----
考虑级数：
$$\sum_{n=1}^\infty \frac{2n^2+3n+7}{n^4+2n^3+1}.$$

为了检验这个说法，注意每个多项式的最高次项起决定作用，由于n变得越来越大(详见21.3.1节)，我们有：


$$当n \rightarrow \infty时，\frac{2n^2+3n+7}{n^4+2n^3+1} \sim \frac{2n^2}{n^4}=\frac{2}{n^2}.$$

$$由p判别法知\sum_{n=1}^\infty 2/n^2收敛(常数2不相关);故由极限比较判别法知原级数也收敛.$$

----

考虑几乎一样的例子：
$$\sum_{n=0}^\infty \frac{2n^2+3n+7}{n^4+2n^3+1}.$$

这需要采用一点小小的技巧。该级数与上个级数的唯一区别是，和式从n=0开始.
若采用与前面级数相同的讨论方法，就会发现需将上述级数与$\sum_{n=0}^\infty 2/n^2$进行比较.后者显然没有定义好，因为它的第一项看似为2/0，显然没有意义。你可以通过如下两种方式之一来避免这样的问题:可以改变首项n=0，如换成n=1，这样并不改变原级数的敛散性；或者，将首项从和式中提出来.事实上，当n=0，$(2n^2+3n+7)/(n^4+2n^3+2)$为7，所以：
$$\sum_{n=0}^\infty \frac{2n^2+3n+7}{n^4+2n^3+1}=7+\sum_{n=1}^\infty \frac{2n^2+3n+7}{n^4+2n^3+1}.$$

右边的级数收敛，故左边的级数也收敛.加上有限数7仍然收敛.通常，若和式从n=0开始，且你想应用极限比较判别法，就可将首项提出来，这样就可以考虑从n=1开始的级数了.

----
现在来看：

$$\sum_{n=1}^\infty \frac{\sqrt[3]{27n^6+9n^2+4}}{n^3+9n^2+4}.$$

根据我们关于较高次幂起决定作用的标准观点，有：
$$当n \rightarrow \infty时，\frac{\sqrt[3]{27n^6+9n^2+4}}{n^3+9n^2+4} \sim \frac{\sqrt[3]{27n^6}}{n^3}=\frac{3n^2}{n^3}=\frac{3}{n}.$$

$由p判别法知\sum_{n=1}^\infty 3/n发散，故由极限比较判别法知原级数也发散.$
那
$$\sum_{n=1}^\infty 2^{-n}n^{1000}$$


用比较判别法来求解问题，我们有:
$$2^{-n} \leq \frac{C}{n^{1002}},$$

这里选择指数为1002，因为它比问题中的指数1000大2.现在我们有：
$$\sum_{n=1}^\infty 2^{-n}n^{1000}\leq \sum_{n=1}^\infty \frac{C}{n^{1002}} n^{1000}=C\sum_{n=1}^\infty \frac{1}{n^2} < \infty,$$

最后的级数由p判别法可知收敛，故由比较判别法知原级数也收敛.

----
现在考虑：
$$\sum_{n=2}^\infty \frac{ln(n)}{n^{1.001}}.$$

这恰恰是21.3.4节中例子的级数形式，事实上，你可以用积分判别法将该级数问题转化为反常积分问题。因为被积函数是递减的，但关键点是什么？我们可以直接解该题。与在反常积分中的方法一样，我们采用$ln(n) \leq C n ^{0.0005}，$这里巧妙地选择如此小的指数0.0005以使得原指数(原级数中的指数)1.001减去它后仍大于1.故我们有：
$$\sum_{n=1}^\infty \frac{ln(n)}{n^{1.001}} \leq \sum_{n=1}^\infty \frac{Cn^{0.0005}}{n^{1.001}}=C\sum_{n=1}^\infty \frac{1}{n^{1.0005}}< \infty,$$

最后的级数由p判别法可知收敛，故根据比较判别法知原级数收敛.

----

级数：
$$\sum_{n=1}^\infty \frac{|\sin(n)|}{n^2}$$

相当容易求解。要知道$|\sin(n)| \leq 1$，我们知：
$$\sum_{n=1}^\infty \frac{|\sin(n)|}{n^2} \leq \sum_{n=1}^\infty\frac{1}{n^2} < \infty.$$

故由比较判别法知级数收敛.

----
现在考虑级数：
$$\sum_{n=1}^\infty \sin(\frac{1}{n}).$$

![alt 文本](./../../../图片/普23.6.2.png)
![alt 文本](./../../../图片/普23.6.3.png)

----

最后一个让人头疼的级数
$$\sum_{n=2}^\infty \cos^2(n)\tan(\frac{(n^2+4n-4)\ln(n)}{\sqrt{n^7+2n^4+3n}}).$$
![alt 文本](./../../../图片/普23.6.1.png)
### 23.7 应对含负项的级数
![alt 文本](./../../../图片/普23.7.1.png)
![alt 文本](./../../../图片/普23.7.2.png)
![alt 文本](./../../../图片/普23.7.3.png)
![alt 文本](./../../../图片/普23.7.4.png)





















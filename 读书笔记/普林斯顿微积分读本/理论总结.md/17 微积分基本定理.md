## 17 微积分基本定理

### 17.1 用其他函数的积分来表示的函数
。。。

### 17.2 微积分的第一基本定理

$如果函数f在闭区间[a,b]上是连续的，定义F为$
$$F(x)=\int_a^x f(t)dt，x\in[a,b]$$

$则F在开区间(a,b)内是可导函数，而且F'(x)=f(x).$

简而言之，可以总结为：
$$\frac{d}{dx}\int_a^xf(t)dt=f(x).$$

### 17.3 微积分的第二基本定理

$如果函数f在闭区间[a,b]上是连续的，F是f的任意一个反导数(关于x)，那么有$
$$\int_a^bf(x)dx=F(b)-F(a).$$

在实践中，我们通常把等式右边写成$F(x)|^b_a$的形式，即：
$$F(x)|^b_a=F(b)-F(a).$$
### 17.4 不定积分
$$\int f(x)dx$$
表示"函数f的反导数的集合".任何可积函数都有无限多个反导数，它们唯一的不同是常熟部分.

#### 不定积分的两个性质
- $\int (f(x)+g(x))dx=\int f(x)dx+\int g(x)dx$
- $\int c f(x)dx=c\int f(x)dx.$

微积分第一基本定理表明
$$\frac{d}{dx}\int_a^xf(t)dt=f(x).$$

从某种意义上讲，积分的导数就是原始的函数。你需要注意"积分"的意义，请记住变量是积分上限而不是虚拟变量。另外，微积分第二基本定理说明
$$\int_a^bf(x)dx=F(x)|_a^b,$$

其中$F$是$f$的导数，这就是说$f(x)=\frac{d}{dx}F(x).$所以上述表达式可以重写为
$$\int_a^b \frac{d}{dx}F(x)dx=F(x)|_a^b,$$

将其解释为一个函数的导数的积分就是这个函数本身。再一次提醒，它不是实际的原始函数，它应该是原始函数在a和b两点数值的差。这是很显然的，微分和导数是相反的运算.

### 17.5 怎样解决问题：微积分的第一基本定理
$$\frac{d}{dx}\int_3^x\sin(t^2)dt=\sin(x^2).$$
#### 17.5.1 变形1：变量是积分下限
如果变量是积分下限而不是积分上限，需要把上下限互换，前面加上一个符号.

#### 17.5.2 变形2：积分上限是一个函数
如果积分上限是一个关于x的函数，不是x。不能直接使用微积分的第一基本定理，需要使用链式求导法则，可以设置这个积分为$u$，然后再求导。

#### 17.5.3 变形3：积分上下限都为函数
如果积分上下限都是关于x的函数，解决这个问题的方法是用一个常数把这个积分分成两个部分。在哪里分开并不重要，只要所使用的常数在该被积函数的定义域内。


#### 17.5.4 变形4：极限伪装成导数
$$\lim\limits_{h \to 0}\frac{1}{h}\int_x^{x+h}\log_{3}(\cos^6(t)+2)dt.$$
这不是一个导数，它是一个极限。
$$F(x+h)-F(x)=\int_x^{x+h}\log_{3}(\cos^6(t)+2)dt.$$

我们有：
$$\lim\limits_{h \to 0}\frac{1}{h}\int_x^{x+h}\log_{3}(\cos^6(t)+2)dt=\lim\limits_{h \to 0}\frac{F(x+h)-F(x)}{h}=F'(x).$$
所以，实际上对任何常数a，我们有
$$\lim\limits_{h \to 0}\frac{1}{h}\int_x^{x+h}\log_{3}(\cos^6(t)+2)dt=\frac{d}{dx}\int_a^x\log_{3}(\cos^6(t)+2)dt.$$


### 17.6 怎样解决问题：微积分的第二基本定理
使用微积分的第二基本定理计算定积分。首先要找到不定积分，然后分别把积分上下限代入，最后再求差。


#### 17.6.1 计算不定积分
$$\int \frac{1}{x}dx=\ln|x|+C.$$

##### 导数和积分公式
$$\frac{d}{dx}x^a=ax^{a-1} \qquad \qquad \int x^adx=\frac{x^{a+1}}{a+1}+C (如果a\neq -1)$$

$$$$
。。。

#### 17.6.2 计算定积分
。。。

### 17.8 微积分第一基本定理的证明
$$F(x)=\int_a^xf(t)dt,$$
**证明：**

$$F(x+h)-F(x)=\int_{x}^{x+h}f(t)dt.$$

假设$h>0.$根据积分学的中值定理。在区间$[x,x+h]$上有个常数c使得
$$\int_{x}^{x+h}f(t)dt=((x+h)-x)f(c)$$

成立，这样，我们有
$$F(x+h)-F(x)=\int ^{x+h}_xf(t)dt=hf(c)$$

对于某个在区间$[x,x+h]$内的常数c成立。实际上对于h<0.这个等式也是成立的，这时的区间就变为$[x+h,x]$，因为在这种情况下$x+h<x.$而等式的两端同时除以h有

$$\frac{F(x+h)-F(x)}{h}=f(c).$$

关键点是：当x是一个固定数时(暂时)，数c的变化是由h决定的，而且它在x和x+h之间.可能我们需要重写这个方程为：

$$\frac{F(x+h)-F(x)}{h}=f(c_h).$$

这样写就强调了c是由h决定的.当$h\rightarrow 0$时情况又怎样呢？这个值$c_h$被夹在了$x和x+h$之间，所以当$h\rightarrow 0$时，根据三明治定理我们有$c_h \rightarrow x.$另一方面，因为函数$f$是连续的，当$h\rightarrow 0$时，一定有$f(c_h) \rightarrow f(x).$也就是说，


$$\lim \limits_{h \rightarrow 0}\frac{F(x+h)-F(x)}{h}=\lim \limits_{h \rightarrow 0}f(c_h)=f(x).$$




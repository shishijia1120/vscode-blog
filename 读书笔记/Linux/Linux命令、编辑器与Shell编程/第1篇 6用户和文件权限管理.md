### 6 用户和文件权限管理
Linux作为一个多用户、多任务系统，可能同一时间有许多用户登录并使用系统。作为管理员，首先需要考虑如何有效地管理系统中的用户，其次要考虑如何运用文件权限让系统中的多个用户同时使用系统，但互不影响，

#### 6.1 用户管理
用户管理包括添加、删除用户，禁止用户登录等。
##### 6.1.1 系统用户文件概述
在Linux系统中一切都是文件，包括硬盘、键盘等许多设备都是一个文件。系统中的用户也是保存在文件中的。与系统用户一起保存在文件中的还要用户设置，例如用户的家目录、使用的Shell、用户的密码等。

1. 系统用户文件
用于保存系统用户及用户设置的文件是/etc/password。查看系统用户文件的内容：

    ```# cat /etc/password```
2. 用户密码文件
    ```# cat /etc/shadow```

##### 6.1.2 添加用户命令useradd
```# ls -l /usr/sbin/adduser```

1. 例如要创建一个名为ljx的用户
    ```# useradd ljx  使用useradd命令添加新用户lkx```
    ```# cat /etc/passwd | grep ljx  查看系统用户和影子文件验证用户是否添加成功```
    ```# cat /etc/shadow | grep ljx```  
在系统中添加用户需要注意以下几点：
- 不要使用中文用户名
- 不建议使用公共账号
- 不建议使用大写字母
- 不建议在用户名中使用除小写字母以外的特殊字符
2. 使用选项s为其指定特殊的Shell。
    ```# useradd -s /bin/ksh wlh  使用选项s指定新建用户的默认Shell```
    ```# cat /etc/passwd | grep wlh 通过查看系统用户文件的方法验证设置```

3. 添加新用户时，系统会自动分配新用户的家目录。默认情况下，家目录位于/home目录中，并以用户名作为家目录的名称，查看用户的家目录：
    ```# ls -l /home/ 使用ls命令查看/home目录中的用户家目录```

4. 分配新用户的家目录后，系统还会添加新用户的初始化文件(初始化文件通常用于初始化用户的系统、软件环境)。通常用户的初始化文件被放在家目录中，并以隐藏文件的形式存在。
    ```# ls -al /home/ljx/ 使用ls命令查看家目录的用户初始化文件```

5. 根据安装的软件包不同，家目录中可能还会存在一些别的初始化文件，例如编辑器Vim的初始化文件.viminfo等。这些初始化文件的模板被放置在目录.etc.skel中。

    ```# ls -al /etc/skel 查看系统用户初始化模板文件```

6. 编译安装软件时，有些软件会要求建立软件专业用户。
7. 有时可能需要在建立用户时指定用户的用户组，此时可以使用选项g。例如：
    ```# useradd -g user1  user2 使用选项g指定添加的新用户user2的用户组为user1```


##### 6.1.3 设置用户密码目录passwd




#### 6.2 用户组管理

##### 6.2.1 用户组文件概述

##### 6.2.2 添加用户组命令groupadd
##### 6.2.3 删除用户组命令groupdel
##### 6.2.4 用户组管理


#### 6.3 基本权限及管理命令


#### 6.4 POSIX ACL权限系统及其管理命令

# 第4章 向量空间

## 4.1 向量空间与子空间

**定义**  一个向量空间是由一些被称为向量的对象构成的非空集合V，这个集合上定义两个运算，称为加法和标量乘法(标量取实数)，服从以下公理(或法则)，这些公理必须对V中所有向量$u,v,w$及所有标量c和d均成立.
1. $u,v之和表示为u+v，仍在V中.$
2. $u+v=v+u.$
3. $(u+v)+w=u+(v+w).$
4. $V中存在一个零向量0，使得u+0=u.$
5. $对V中每个向量u，存在V中向量-u，使得u+(-u)=0.$
6. $u与标量c的标量乘法记为cu，仍在V中.$
7. $c(u+v)=cu+vc.$
8. $(c+d)u=cu+du.$
9. $c(du)=(cd)u.$
10. $1u=u.$

$对V中每个向量u和任意标量c，有$
$$0u=0 \qquad \qquad(1)$$

$$c0=0 \qquad \qquad (2)$$

$$-u=(-1)u \qquad (3)$$

![alt 文本](./../../图片/线4.1.png)
![alt 文本](./../../图片/线4.2.png)

#### 子空间
**定义** 向量空间V的一个子空间是V的一个满足以下三个性质的子集H：
a. V中的零向量在H中.
b. H对向量加法封闭，即对H中任意向量u,v，和u+v仍在H中.
c. H对向量乘法封闭，即对H中任意向量u和任意标量c，向量cu仍在H中.
![alt 文本](./../../图片/线4.3.png)
![alt 文本](./../../图片/线4.4.png)
![alt 文本](./../../图片/线4.5.png)
#### 由一个集合生成的子空间
![alt 文本](./../../图片/线4.6.png)

例10的讨论可以很容易地推广从而证明下面的定理.
**定理 1** 若$v_1,\cdots,v_p$在向量空间V中，则Span{$v_1,\cdots,v_p$}是V的一个子空间.

我们称Span{$v_1,\cdots,v_p$}是由{$v_1,\cdots,v_p$}生成或(或张成)的子空间，任给V的子空间H，H的生成(或张成)集是集合{$v_1,\cdots,v_p$}$ \ H$，使得H=Span{$v_1,\cdots,v_p$}.

![alt 文本](./../../图片/线4.7.png)
## 4.2 零空间、列空间和线性变换
![alt 文本](./../../图片/线4.8.png)

### 矩阵的零空间
![alt 文本](./../../图片/线4.9.png)

**定义** $m \times n$矩阵A的零空间写成$NulA$，是齐次方程Ax=0的全体解的集合，用集合符号表示，即
$$NulA= \{x:x\in R^n,Ax=0\}$$

$NulA$的更进一步的描述为$R^n$中的线性变换$x |\rightarrow Ax$下映射到$R^m$中的零向量的全体向量的集合，见图
![alt 文本](./../../图片/线4.10.png)


**定理 2** $m \times n$矩阵A的零空间是$R^n$的一个子空间，等价地，m个方程，n个未知数的齐次线性方程组Ax=0的全体解的集合是$R^n$的一个子空间.

**证** 由于A有n个列，NulA当然是$R^n$的一个子集，我们必须证明NulA满足子空间的3个性质.0当然在NulA中，其次令u和v表示NulA中任意两个向量，则
$$Au=0,Av=0$$

为证u+v在NulA中，必须证A(u+v)=0.利用矩阵乘法的性质，有
$$A(u+v)=Au+Av=0+0=0$$

从而u+v$\in$ NulA，于是 NulA对向量加法是封闭的。最后，若c是任意一个数，则
$$A(cu)=c(Au)=c(0)=0$$

从而cu$\in$ NulA，于是 NulA是$R^n$的一个子空间.
![alt 文本](./../../图片/线4.11.png)
#### NulA的一个显式刻画

NulA中的向量与A中的数值之间没有明显的关系。我们称NulA被隐式定义，这是由于它被一个必须要检验的条件所定义，没有明确地给出NulA中元素。然而，当我们解出方程Ax=0，我们就得到NulA的显式刻画，
![alt 文本](./../../图片/线4.13.png)


### 矩阵的列空间

**定义** $m \times n$矩阵的列空间(记为ColA )是由A的列的所有线性组合组成的集合，若A=$\{a_1,\cdots,a_n\}，则Col A=Span\{a_1,\cdots,a_n\}$.

**定理 3** $m \times n$矩阵的列空间是$R^m$的一个子空间.

$$ColA= \{b:b=Ax,x\in R^n\}$$

例4 求一个矩阵A，使得$W=Col A.$
![alt 文本](./../../图片/线4.14.png)


#### NulA与ColA之间的对比
![alt 文本](./../../图片/线4.15.png)
![alt 文本](./../../图片/线4.16.png)
#### 线性变换的核与值域

我们经常需要用线性变换而不是矩阵来描述除$R^n$以外的向量空间的子空间，为了更准确，将1.8节中给出的定义进行推广.

**定义** 由向量空间V映射到向量空间W内的线性变换T是一个规则，它将V中每个向量x映射成W中唯一向量T(x)，且满足：
(i) T(u+v) =T(u)+T(v)，对V中所有u,v均成立.
(ii) T(cu)=cT(u)，对V中所有u及所有数c均成立.

线性变换T的核(或零空间)是V中所有满足T(u)=0的向量u的集合(0为W中的零向量).T的值域是W中所有具有形式T(x)(任意x $\in$ V)的向量的集合.如果T是由一个矩阵变换得到的，比如对某矩阵A，T(x)=Ax，则T的核与值域恰好是前面定义的A的零空间和列空间.

不难证明T的核是V的一个子空间，证明在本质上与定理2相同，T的值域也是W的一个子空间.见图
![alt 文本](./../../图片/线4.17.png)

解释微积分运算为什么是一个线性变换.

例8 令V是定义在区间[a,b]上的所有连续可导的实函数构成的向量空间，令W是[a,b]上所有连续函数构成的向量空间，且令$D:V \rightarrow W$是将V中$f$变为其导数$f'$的变换，由微积分中两个简单的微分法则有
$$D(f+g)=D(f)+D(g), \qquad D(cf)=cD(f)$$

于是，D是一个线性变换，可以证明D的核是[a,b]上的常函数的集合，D的值域是[a,b]上所有连续函数的集合W.

## 4.3 线性无关集和基

本节我们确认并研究尽可能"有效率地"生成一个向量空间V或一个子空间H的子集，关键的思想是线性无关，与定义在$R^n$中的线性无关一样.


V中向量的一个指标集$\{v_1,\cdots,v_p\}$称为是线性无关的，如果向量方程
$$c_1v_1+c_2v_2+\cdots+c_pv_p=0 \qquad (1)$$

只有平凡解，即$c_1=0,\cdots,c_p=0.$
集合$\{v_1,\cdots,v_p\}$称为线性相关，如果(1)有一个非平凡的解，即存在某些权$c_1,\cdots,c_p$不全为零，使得(1)式成立，此时(1)式称为$c_1,\cdots,c_p$之间的一个线性相关关系.

![alt 文本](./../../图片/线4.18.png)


**定理 4** 不少于两个有编号的向量的集合$\{v_1,\cdots,v_p\}$，如果有$v_1 \neq 0$，则$\{v_1,\cdots,v_p\}$是线性相关的，当且仅当某$v_j(j>1)$是其前面向量$v_1,\cdots,v_p$的线性组合.

![alt 文本](./../../图片/线4.19.png)

![alt 文本](./../../图片/线4.20.png)
![alt 文本](./../../图片/线4.21.png)
#### 生成集定理
![alt 文本](./../../图片/线4.22.png)
**定理 5** (生成集定理)
令S=$\{v_1,\cdots,v_p\}$是V中的向量集，H=Span$\{ b_1,\cdots,b_p\}$.
a. 若S中某一个向量，比如说$v_k$，是S中其余向量的线性组合，则S中去掉$v_k$后形成的集合仍然可以生成H.
b. 若$H \neq {0}$，则S的某一子集是H的一个基.

**证**
a. 若必要的话，可以重新S中向量的顺序，这样可以假设$v_p是v_1,\cdots,v_{p-1}$的线性组合，即
$$v_p=a_1v_1+\cdots+a_{p-1}v_{p-1} \qquad (3)$$

任给H中向量x，取适当的数$c_1,\cdots,c_p$，x可以写成
$$x=c_1v_1+\cdots+c_{p-1}v_{p-1} +c_pv_p \qquad (4)$$

将(3)中$v_p$的表达式代入(4)式，易见x是$v_1,\cdots,v_{p-1}$的线性组合，由于x是H中任一元素，所以$\{v_1,\cdots,v_p\}$生成H.

b. 若原来的生成集S是线性无关的，则它已经是H的一个基.若不然，S中某一个向量可表示成其余向量的线性组合，则由(a)该向量可去掉.这样生成集中只要还有两个或更多的向量，我们就可以重复上述过程，直到这个生成集是线性无关.从而是H的一个基.假如生成集最终被缩减到一个向量，则该向量是非零向量(从而是线性无关的)，因为$H \neq \{0\}.$


#### NulA和ColA的基
![alt 文本](./../../图片/线4.23.png)
![alt 文本](./../../图片/线4.24.png)
![alt 文本](./../../图片/线4.25.png)
## 4.4 坐标系
对一个向量空间V，明确指定一个基$B$的一个重要原因是在V上强加一个"坐标系".本节我们将证明如果$B$包含n个向量，则坐标系将使Vx像$R^n$一样便于操作。若V就是$R^n$本身，而B将确定一个坐标系，它给V以一个新的"视野".

坐标系的存在依靠下列基本结果.

**定理 7** (唯一表示定理)

令$B=\{b_1,\cdots,b_n\}$是向量空间V的一个基，则对V中每个向量x，存在唯一的一组数$c_1,\cdots,c_n$使得
$$x=c_1b_1+\cdots+c_nb_n \qquad (1)$$

**证** 由于B生成V，则存在一组数$c_1,\cdots,c_n$使得(1)成立，假设x还有其他表示：
$$x=d_1b_1+\cdots+d_nb_n$$

$d_1,\cdots,d_n$为数，则二式相减有
$$0=x-x=(c_1-b_1)b_1+\cdots+(c_n-d_n)b_n \qquad (2)$$

由于B是线性无关的，(2)中的权一定为零，即$c_j=d_j对 1 \leq j \leq n$均成立.


**定义** 假设集合$B=\{b_1,\cdots,b_n\}$是V的一个基，x在V中，x相对于基B的坐标(或x的B-坐标)是使得$x=c_1b_1+\cdots+c_nb_n \qquad $.
$若c_1,\cdots,c_n$是x的B-坐标，则$R^n$中的向量
$$[x]_B=\begin{bmatrix}
    c_1 \\ \vdots \\ c_n
\end{bmatrix}$$

是x(相对于B)的坐标向量，或x的B-坐标向量，映射$x  \quad |\rightarrow [x]_B$称为(由B确定的)坐标映射.


例1 考虑$R^2$的一个基$B=\{b_1,b_n\}$，这里$b_1=\begin{bmatrix}
    1 \\ 0
\end{bmatrix},b_2=\begin{bmatrix}
    1 \\ 2
\end{bmatrix},[x]_B=\begin{bmatrix}
    -2 \\ 3
\end{bmatrix}$，求x.

$$x=(-2)\begin{bmatrix}
    1 \\ 0
\end{bmatrix}+ 3\begin{bmatrix}
    1 \\ 2
\end{bmatrix}=\begin{bmatrix}
    1 \\ 6
\end{bmatrix}.$$

向量x$\begin{bmatrix}
    1 \\ 6
\end{bmatrix}$中的数字是x相对于标准基$\{e_1,e_2\}的坐标，$由于
$$\begin{bmatrix}
    1 \\ 6
\end{bmatrix}=1 \begin{bmatrix}
    1 \\ 0
\end{bmatrix}+ 6\begin{bmatrix}
    0 \\ 1
\end{bmatrix}=1 \cdot e_1+6\cdot e_2.$$


#### 坐标的几何意义
![alt 文本](./../../图片/线4.26.png)
![alt 文本](./../../图片/线4.27.png)

#### $R^n$中的坐标

当$R^n$中的一组基B固定时，容易求出任一指定的向量x的B-坐标.

例子 $令b_1=\begin{bmatrix}
    2 \\ 1
\end{bmatrix},b_2=\begin{bmatrix}
    -1 \\ 1
\end{bmatrix},x=\begin{bmatrix}
    4 \\ 5
\end{bmatrix}，B=\{b_1,b_2\}，求[x]_B.$

$$\begin{bmatrix}
    2 \quad -1 \\
    1 \qquad 1 \\
\end{bmatrix} \begin{bmatrix}
    c_1 \\ c_2
\end{bmatrix}=\begin{bmatrix}
    4 \quad 5
\end{bmatrix}$$

这个方程可以通过在一增广矩阵上做行变换或利用左边矩阵的逆解出.

$$x=P_B[x]_B \qquad (4)$$

我们称$P_B$为从B到$R^n$中标准基的坐标变换矩阵.通过左乘$P_B$将坐标向量$[x]_B$变换到x.坐标变换方程(4)是重要的，它将在第5章和第7章的多个地方用到.

由于$P_B$的列构成$R^n$的一个基，$P_B$是可逆的(由可逆矩阵定型).通过左乘$P_B^{-1}$又将x变回B-坐标向量:
$$P_B^{-1} x=[x]_B$$
![alt 文本](./../../图片/线4.28.png)
![alt 文本](./../../图片/线4.29.png)
#### 坐标映射
对向量空间V选定一个基$B=\{b_1,\cdots,b_n\}$，它引出V中一个坐标系，坐标映射$x |\rightarrow [x]_B$将可能不熟悉的空间V与熟悉的空间$R^n$联系了起来，见图
![alt 文本](./../../图片/线4.30.png)

**定理 8** 令$B=\{b_1,\cdots,b_n\}$是向量空间V的一个基，则坐标映射$x |\rightarrow [x]_B$是一个由V映上到$R^n$的一对一的线性变换.

**证** 取V中两个典型的向量，比如
$$u=c_1b_1+\cdots+c_nb_n$$

$$w=d_1b_1+\cdots+d_nb_n$$

利用向量运算，
$$u+w=(c_1+d_1)b_1+\cdots+(c_n+d_n)b_n$$

于是
$$[u+w]_B=\begin{bmatrix}
    c_1+d_1 \\
    \vdots \\
    c_n+d_n
\end{bmatrix}=\begin{bmatrix}
    c_1 \\ \vdots \\ c_n
\end{bmatrix} +\begin{bmatrix}
    d_1 \\ \vdots \\ d_n
\end{bmatrix}=[u]_B+[w]_B$$

从而坐标映射保持加法封闭，若r是任一数，则
$$ru=r(c_1b_1+\cdots+c_nb_n)=(rc_1)b_1+\cdots+(rc_n)b_n$$

于是
$$[ru]_B=\begin{bmatrix}
    rc_1 \\ \vdots \\ rc_n
\end{bmatrix}=r\begin{bmatrix}
    c_1 \\ \vdots \\ c_n
\end{bmatrix}=r[u]_B$$

从而坐标映射保持乘法封闭，于是坐标映射是一个线性变换.坐标映射是一对一的以及它将V映上到$R^n$的证明分别留作习题23和24.

定理8中的坐标映射是一个由V到$R^n$上同构的重要例子.一般而言，从一个向量空间V映上到另一个向量空间W的一一线性变换称为从V和W上的一个同构.

![alt 文本](./../../图片/线4.31.png)
![alt 文本](./../../图片/线4.32.png)
![alt 文本](./../../图片/线4.33.png)

## 4.5 向量空间的维数
4.4节定理8.8可推出一向量空间V的基B若含有n个向量，则$V与R^n$同构.本节我们证明数n是V的一个内在的性质(称为维数)，它不依赖基的选择，维数的讨论将对基的性质有更深入的理解.

**定理 9** 若向量空间V具有一组基$B=\{b_1,\cdots,b_n\}，$则V中任意包含多于n个向量的集合一定线性相关.

**证** 令$\{u_1,\cdots,u_p\}$是V中一个含有多于n个向量的集合，因为坐标向量$[u_1]_B,\cdots,[u_p]_B$个数(p)大于每个向量中数字的个数(n)，所以$[u_1]_B,\cdots,[u_p]_B$线性相关.于是存在数量$c_1,\cdots,c_p$不全为0，使得
$$c_1[u_1]_B+\cdots+c_p[u_p]_B=\begin{bmatrix}
    0 \\ \vdots \\ 0
\end{bmatrix}  \quad R^n中的零向量$$

因为坐标映射是线性变换
$$[c_1u_1+\cdots+c_pu_p]=\begin{bmatrix}
    0 \\ \vdots \\ 0
\end{bmatrix}$$

于是$c_1u_1+\cdots+c_pu_p=0\cdot b_1+\cdots+0\cdot b_n=0,$因为$c_i$不全为零，所以$\{u_1,\cdots,u_p\}$是线性相关的.


由定理9可推出如果一向量空间V有一组n个向量的基，则V的每组基必定是由n个向量所组成.

**定理 10** 若向量空间V有一组基含有n个向量，则V的每一组基一定恰好含有n个向量.

**证** 令$B_1$是一个含n个向量的基，$B_2$是V的任一另外的基，因为$B_1$是一个基，$B_2$是线性无关的，则由定理9，$B_2$不能含有多于n个向量，同理由$B_2$是一个基，$B_1$线性无关，$B_2$至少含有n个向量，于是$B_2$恰好含有n个向量.


**定义** 若V由一个有限集生成，则V称为有限维的，V的维数写成dimV，是V的基中含有向量的个数，零向量空间{0}的维数定义为零.如果V不是由一有限集生成，则V称为无穷维的.

![alt 文本](./../../图片/线4.34.png)
![alt 文本](./../../图片/线4.35.png)

#### 有限维空间的子空间


**定理 11** 令H是有限维向量空间V的子空间，若有需要的话，H中任一个线性无关均可以扩充成为H的一个基，H也是有限维德并且
$$dimH \leq dimV$$

**证** 若H={0}，必然有$dimH \leq dimV$.否则，令$S=\{u_1.\cdots,u_k\}$是H中任一线性无关集，若S生成H，则H是S的一个基.否则，存在H中某向量$u_{k+1}不在Span S$中，但$\{u_1,\cdots,u_k,u_{k+1}\}$将会是线性无关的，这是因为此集中没有一个向量可以表示为其前面向量的线性组合(由定理 4).

只要这个新集合不能生成H，我们就可以继续这个扩充S到H中一个更大的线性无关集的过程，但由定理9，S的线性无关扩充中向量的个数永远不能超过V的维数，所以S的扩充最终会生成H而且将成为H的一个基，同时$dimH \leq dimV$.


当一个线性空间或子空间德维数知道后，通过下一个定理，求一个基就简单了.即如果一个集合有适当个数的元素，则我们仅需知道证明或者这个集合是线性无关的或者它生成这个空间.这个定理在许多应用问题(例如包括微分方程和差分方程)均具有非常重要的意义，这里线性无关性比生成性更容易验证.




**定理 12** (基定理)
令V是一个p维向量空间，$p \geq 1$,V中任意含有p个元素的线性无关集必然是V的一个基.任意含有p个元素且生成V的集合必然是V的一个基.

**证** 有定理11，含p个元素的线性无关集S可以扩充为V的一个基，但由于$dim V=p$,基必须恰好包含p个向量，所以S已经是V的一个基，现jiasS含有p个向量且生成V，因为V是非零的，生成集定理蕴含S的一个子集$S'$是V的一个基，因为$dim V=p，S'$一定包含p个向量，从而$S=S'$。

#### NulA和ColA的维数

由于矩阵A的主元列构成Col A的一个基，我们一旦知道主元列，就知道了ColA的维数.对Nul A的维数似乎需要做更多的工作，因为求NulA的一个基通常必求ColA的一个基需要更多的时间，但有一条捷径可走!

令A为一个$m \times n$矩阵，假设方程Ax=0有k个自由变量.由4.2节，我们知道求NulA的生成集的标准方法将恰好产生k个线性无关向量，比如说是$u_1,\cdots,u_k$，每一个向量对应一个自由变量.所以$\{u_1,\cdots,u_k\}$是Nul A的一个基，自由变量的个数决定基的大小.为了后面的参考，让我们总结一下这些事实.
$$Nul A的维数是方程Ax=0中自由变量的个数，ColA的维数是A中主元列的个数.$$
![alt 文本](./../../图片/线4.36.png)

## 4.6 秩
![alt 文本](./../../图片/线4.37.png)
#### 行空间

若A是一个$m \times n$矩阵，A的每一行具有n个数字，即可以视为$R^n$中一个向量，其行向量的所有线性组合的集合称为A的行空间，记为$Row A$.由于每一行具有n个数，所以$Row A$是$R^n$的一个子空间，因为A的行与$A^T$的列相同，我们也可以用$Col A^T$代替$Row A$.

![alt 文本](./../../图片/线4.44.png)

**定理 13** 若两个矩阵A和B行等价，则它们的行空间相同，若B是阶梯形矩阵，则B的非零行构成A的行空间的一个基同时也是B的行空间的一个基.


**证** 若B是由A进行变换得到的，则B的行是A的行的线性组合，于是B的行的任意线性组合自然是A的行的线性组合，从而B的行空间包含于A的行空间，因为行变换可逆，同是线性无关的，这是因为任何一个非零行均不为它下面的非零行的线性组合，于是B的非零行构成B的行空间的一个基，当然也是A的行空间的一个基.


本节的主要结论涉及三个空间：$Row A，Col A和Nul A$.
**例2** 分别求矩阵A的行空间、列空间和列空间的基.
![alt 文本](./../../图片/线4.38.png)
![alt 文本](./../../图片/线4.39.png)
#### 秩定理

**定义**A的秩即A的列空间的维数.
![alt 文本](./../../图片/线4.40.png)
**定理 14** (秩定理)

$m \times n $矩阵A的列空间和行空间的维数相等，这个公共的维数(即A的秩)还等于A的主元位置的个数且满足方程
$$rankA+dimNul A=n$$

**证** 由4.3节定理6，rankA是A中主元列的个数，等价地，rankA是A的阶梯形B中主元位置的个数，进一步，因为B对每个主元有一个非零行，同时这些对行对A的行空间而言构成一个基，所以A的秩也等于A的行空间的维数.

由4.5节，Nul A的维数等于方程Ax=0中自由变量的个数，换句话说，Nul A的维数是A中非主元列的个数，显然有
$${主元列个数}+{非主元列个数}={列的个数}$$

这就完成了证明.


例3 a,若A是一个7$\times $ 9矩阵，具有二维零空间，A的秩是多少?
b. 一个6$\times$9矩阵能有二维零空间吗?
![alt 文本](./../../图片/线4.41.png)
#### 应用到方程组
![alt 文本](./../../图片/线4.42.png)

#### 秩和可逆矩阵定理

**定理**(可逆矩阵定理(续))
$\quad m. A的列构成$R^n$的一个基.$

$\quad n. Col A的$R^n$.$

$ \quad o. dimCol A=n.$

$\quad p. rank A =n.$

$\quad q. Nul A={0}.$

$\quad r. dim Nul A=0.$

![alt 文本](./../../图片/线4.43.png)

## 4.7 基的变换
对一个n维向量空间V，当一个基$B$取定后，与之相关的映射到$R^n$上的坐标映射对V提供了一个坐标系，V中每个向量x由$[x]_B$唯一确定.

在某些应用中，一个问题开始适用一个基$B$描述，但问题的解可通过将B变为一个新的基C得到帮助.每个向量被确定为一个新的C-坐标向量.在本节中，我们研究对每个$x \in V,[x]_C与[x]_B$如何联系起来.

![alt 文本](./../../图片/线4.45.png)
![alt 文本](./../../图片/线4.46.png)

![alt 文本](./../../图片/线4.47.png)

#### $R^n$中基的变换
![alt 文本](./../../图片/线4.50.png)
![alt 文本](./../../图片/线4.48.png)
![alt 文本](./../../图片/线4.49.png)